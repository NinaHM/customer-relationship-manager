<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link rel="stylesheet" type="text/css" media="all" th:href="@{~/css/style.css}" />
	
	<title>Customer overview</title>
	
</head>

<body>

	<div id="wrapper">
		<div id="header">
			<h2>CRM - Customer Relationship Manager</h2>
		</div>
	</div>

	<div id="container">
		<div id="content">

			<input type="button" value="Add Customer"
				onclick="window.location.href='showFormForAdd'; return false;"
				class="add-button" />
			
			<form action="#" th:action="@{/search}" method="get">
				Search customer: <input type="text" name="searchName"/>
				<input type="submit" value="Search" class="add-button"/>
			</form>

			<table>
				<tr>
					<th>First name</th>
					<th>Last name</th>
					<th>E-mail</th>
					<th>Action</th>
				</tr>
				
				<tr th:each="customer : ${customers}">
					<td><span th:text="${customer.firstName}"></span></td>
					<td><span th:text="${customer.lastName}"></span></td>
					<td><span th:text="${customer.email}"></span></td>
					<td> 
						<a th:href="@{~/showFormForUpdate(customerId=${customer.id})}">Update</a>
						|
						<a th:href="@{~/delete(customerId=${customer.id})}"
							onclick="if (!(confirm('Are you sure you want to delete this customer?'))) return false">Delete</a>
					</td>
				</tr>
			</table>
		</div>
	</div>
</body>
</html>